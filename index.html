<html>
    <body>
        <h1>Assignment 3</h1>
        <button onclick="getTweets()">Get all Tweets!</button>
        <button onclick="getUsers()">Get all users!</button>
        <button onclick="button">Get a list of all external links</button>
        
        <form id="tweetDetails">
            <label for="Tweet ID">Tweet ID:</label>
            <input type ="number" id = "id" placeholder=311468922962587651>
        </form>
        <button onclick="button">Get details of tweet</button>
        <form action="/url" method = "GET">
            <label for="Username">Username:</label>
            <input type ="text" username = "username" placeholder="Username">
        </form>
        <button onclick="button">Get profile information</button>
        <h1 id="users">Click "Get all users!" to see users here</h1>
        <h1 id ="tweets">View all tweets here</h1>
        <script>
            //All the functions that the website will use to display the different information.
            function sendID(){
                var ID = document.getElementById("id").value;
                tweetDetails(ID);
            }
            //Gets all the tweets inside the json file
            function getTweets(){
                fetch('http://localhost:3000/getTweets')
                .then(res => res.json())
                .then(data => {
                    document.getElementById("tweets").innerHTML = data;
                    console.log(data);
                })
                .catch(error => {
                    console.error('Error', error);
                });
            }

            //Gets users from json file
            function getUsers(){
                fetch('http://localhost:3000/getUsers')
                .then(res => {
                    return res.json();
                })
                .then(data => {
                    //creates a table that will show the users
                    const container = document.getElementById("users");
                    //resets the table so that it wont append after the button is clicked
                    //mpre than once.
                    container.innerHTML = "";
                    const table = document.createElement("table");
                    const thead = document.createElement("thead");
                    const trHead = document.createElement("tr");
                    const th = document.createElement("th");
                    //header for the table
                    th.textContent = "Users";
                    trHead.appendChild(th);
                    thead.appendChild(trHead);
                    table.appendChild(thead);

                    const tbody = document.createElement("tbody");

                    data.forEach(item => {
                        console.log(item);
                        const tr = document.createElement("tr");
                        const td = document.createElement("td");
                        td.textContent = item;
                        tr.appendChild(td);
                        tbody.appendChild(tr);
                    });

                    table.appendChild(tbody);
                    container.appendChild(table);
                })
            
            }
    
            //Gets all the links from the json file
            function getLinks(){

            }
            //Gets tweet details using a tweet ID
            function tweetDetails(id){
                console.log(id);
            }
            //Retrieves all the profile information using a username.
            function profileInfo(){

            }
        </script>
    </body>
   
</html>
